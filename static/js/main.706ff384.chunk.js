(this["webpackJsonpreact-upload-ui"]=this["webpackJsonpreact-upload-ui"]||[]).push([[0],{23:function(e,t,a){},24:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),n=a(11),c=a.n(n),l=(a(23),a(6)),u=(a(24),a(4)),o=a(1);var d,r=function(e){var t=Object(s.useRef)(null);return Object(o.jsxs)("header",{className:"App-header",children:["Manage Files",Object(o.jsx)(u.a,{className:"btn icon-file-add blue",icon:["fas","plus"],onClick:function(){t.current&&t.current.click()}}),Object(o.jsx)("input",{type:"file",ref:t,style:{display:"none"},onChange:function(t){return function(t){if(null!=t)for(var a=0;a<t.length;a++){var s=t.item(a);null!=s&&e.onSelectFile(s)}}(t.target.files)},multiple:!0})]})},p=a(9);!function(e){e[e.WAITING=0]="WAITING",e[e.UPLOADING=1]="UPLOADING",e[e.INCOMPLETED=2]="INCOMPLETED",e[e.COMPLETED=3]="COMPLETED"}(d||(d={}));var f={pdf:"pdf",rar:"archive",zip:"archive",xls:"excel",xlsx:"excel",bmp:"image",png:"image",jpg:"image",jpeg:"image",mp4:"video",avi:"video"},j=a(7),O=a(10),b=a(13),m={status:d.WAITING,waiting:[],uploading:[],incompleted:[],completed:[]},g=function(e){e.forEach((function(e,t){e.queueIndex=t}))},I=Object(b.b)({name:"upload",initialState:m,reducers:{cancelAll:function(e,t){if(t.payload===d.WAITING){var a,s=Object(O.a)(e.waiting);s.forEach((function(e){e.status=d.INCOMPLETED})),(a=e.incompleted).push.apply(a,Object(O.a)(s)),e.waiting=[]}else if(t.payload===d.COMPLETED)e.completed=[];else if(t.payload===d.UPLOADING){var i,n=Object(O.a)(e.uploading);n.forEach((function(e){e.status=d.INCOMPLETED})),(i=e.incompleted).push.apply(i,Object(O.a)(n)),e.uploading=[]}else t.payload===d.INCOMPLETED&&(e.incompleted=[])},cancel:function(e,t){var a=Object(j.a)({},t.payload);a.progress=0,a.status===d.WAITING?(e.waiting.splice(a.queueIndex,1),g(e.waiting)):a.status===d.COMPLETED?(e.completed.splice(a.queueIndex,1),g(e.completed)):a.status===d.UPLOADING?(e.uploading.splice(a.queueIndex,1),g(e.uploading),a.queueIndex=e.incompleted.length,a.status=d.INCOMPLETED,e.incompleted.push(a),e.status=d.INCOMPLETED):a.status===d.INCOMPLETED&&(e.incompleted.splice(a.queueIndex,1),g(e.incompleted))},queue:function(e,t){var a=Object(j.a)({},t.payload);a.status===d.INCOMPLETED&&(e.incompleted.splice(a.queueIndex,1),g(e.incompleted)),0===e.uploading.length&&0===e.waiting.length?(a.status=d.UPLOADING,a.queueIndex=e.uploading.length,a.progress=0,e.uploading.push(a),e.status=d.UPLOADING):(a.status=d.WAITING,a.queueIndex=e.waiting.length,e.waiting.push(a))},next:function(e){if(e.waiting.length>0){var t=Object(j.a)({},e.waiting[0]);e.waiting.splice(t.queueIndex,1),g(e.waiting),t.status=d.UPLOADING,t.queueIndex=e.uploading.length,t.progress=0,e.uploading.push(t),e.status=d.UPLOADING}},setProgress:function(e,t){var a=e.uploading[0];a&&void 0!=a.progress&&(a.progress=t.payload)},complete:function(e,t){var a=Object(j.a)({},t.payload);e.uploading.splice(a.queueIndex,1),g(e.uploading),a.queueIndex=e.completed.length,a.status=d.COMPLETED,e.completed.push(a),e.status=d.COMPLETED},incomplete:function(e,t){var a=Object(j.a)({},t.payload);e.uploading.splice(a.queueIndex,1),g(e.uploading),a.progress=0,a.queueIndex=e.incompleted.length,a.status=d.INCOMPLETED,e.incompleted.push(a),e.status=d.INCOMPLETED}}}),N=I.actions,x=N.cancel,h=N.cancelAll,E=N.queue,v=N.next,D=N.setProgress,P=N.complete,T=N.incomplete,L=function(e){return e.upload},C=I.reducer,A=function(){return Object(p.b)()},y=p.c,M=function(e,t){var a=Object(s.useRef)(e);Object(s.useEffect)((function(){a.current=e}),[e]),Object(s.useEffect)((function(){if(0!==t){var e=setInterval((function(){return a.current()}),t);return function(){return clearInterval(e)}}}),[t])},G=a(18);var U=function(e){var t=A(),a="file"+(""!=e.file.fileType?"-":"")+e.file.fileType,s=(e.file.fileSize/1048576).toFixed(2)+"MB",i="";return e.file.status===d.UPLOADING?i="Uploading...":e.file.status===d.WAITING&&(i="Waiting..."),Object(o.jsxs)("div",{className:"file-upload-item",children:[Object(o.jsxs)("div",{className:"file-main",children:[Object(o.jsx)("div",{className:"file-icon ".concat(e.file.fileType),children:Object(o.jsx)(u.a,{icon:["fas",a],size:"2x"})}),Object(o.jsxs)("div",{className:"file-content",children:[Object(o.jsx)("span",{className:"title",children:e.file.fileName}),Object(o.jsx)("span",{className:"size",children:s})]})]}),Object(o.jsxs)("div",{className:"file-action",children:[e.file.status===d.UPLOADING||e.file.status===d.WAITING?Object(o.jsxs)("div",{className:"status",children:[Object(o.jsx)(G.a,{className:"progress",value:e.file.progress?e.file.progress:0,styles:Object(G.b)({pathColor:"#2E6DDE",textColor:"#f88",trailColor:"#d6d6d6",backgroundColor:"#3e98c7"})}),i]}):e.file.status===d.INCOMPLETED?Object(o.jsx)("div",{className:"status failed",children:Object(o.jsx)(u.a,{className:"btn",icon:["fas","redo-alt"],size:"2x",onClick:function(){t(E(e.file))}})}):Object(o.jsx)("div",{className:"status success",children:Object(o.jsx)(u.a,{icon:["fas","check-circle"],size:"2x"})}),Object(o.jsx)(u.a,{className:"btn gray",icon:["fas","times"],onClick:function(){t(x(e.file))}})]})]})};var q=function(e){var t=A(),a=Object(s.useState)(void 0==e.collapsed||e.collapsed),i=Object(l.a)(a,2),n=i[0],c=i[1],r=function(e){var t=y(L);return e==d.WAITING?t.waiting:e===d.UPLOADING?t.uploading:e===d.COMPLETED?t.completed:e===d.INCOMPLETED?t.incompleted:[]}(e.status);return Object(o.jsxs)("div",{className:"file-panel",children:[Object(o.jsxs)("div",{className:"file-panel-header",children:[Object(o.jsx)("span",{className:"title",children:e.title}),Object(o.jsxs)("div",{className:"file-panel-action",children:[Object(o.jsx)("span",{className:"caption",onClick:function(){t(h(e.status))},children:e.caption}),Object(o.jsx)(u.a,{className:"gray",icon:["fas","chevron-up"],size:"sm",rotation:n?void 0:180,onClick:function(){c(!n)}})]})]}),Object(o.jsxs)("div",{className:"file-panel-body ".concat(n?"collapsed":""),children:[Object(o.jsx)("div",{className:"placeholder",children:0===r.length?e.placeholder:""}),r.map((function(e,t){return Object(o.jsx)(U,{file:e},t)}))]})]})};var w=function(){var e=A(),t=y(L),a=y(L).uploading[0],i=Object(s.useState)(0),n=Object(l.a)(i,2),c=n[0],u=n[1],p=Object(s.useState)(0),j=Object(l.a)(p,2),O=j[0],b=j[1],m=Object(s.useState)(0),g=Object(l.a)(m,2),I=g[0],N=g[1];return M((function(){b(O+20)}),c),Object(s.useEffect)((function(){if(a&&t.status===d.UPLOADING){if(I%4===3&&O>50)return void e(T(a));e(D(O)),O>100&&(e(P(a)),u(0),b(0))}}),[O]),Object(s.useEffect)((function(){t.status===d.UPLOADING?u(1e3):(u(0),b(0),t.status!==d.COMPLETED&&t.status!==d.INCOMPLETED||(N(I+1),e(v())))}),[t.status]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(r,{onSelectFile:function(t){var a=t.name.substring(t.name.lastIndexOf(".")+1),s=f[a],i={queueIndex:0,fileName:t.name,fileSize:t.size,fileType:s||"",status:d.WAITING};e(E(i))}}),Object(o.jsx)(q,{title:"Uploading",caption:"Cancel Upload",status:d.UPLOADING,placeholder:"No uploading files yet"}),Object(o.jsx)(q,{title:"Next Up",caption:"Cancel All",status:d.WAITING,placeholder:"No waiting files yet"}),Object(o.jsx)(q,{title:"Completed",caption:"Dismiss All",status:d.COMPLETED,placeholder:"No file uploads completed yet"}),Object(o.jsx)(q,{title:"Incomplete Uploads",caption:"Dismiss All",status:d.INCOMPLETED,placeholder:"No incomplete uploads yet"})]})},W=Object(b.a)({reducer:{upload:C}}),k=a(5),S=a(3);(function(){k.b.add(S.d,S.h,S.e,S.f,S.g,S.i,S.j,S.c,S.b,S.m,S.l,S.a,S.k)})(),c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(p.a,{store:W,children:Object(o.jsx)(w,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.706ff384.chunk.js.map